<app-navbar></app-navbar>

<section class="py-20 bg-black gallery-container">
  <div class="container mx-auto px-6 lg:px-12">
    
    <!-- Header -->
    <div class="mb-12">
      <h1 class="text-5xl font-black text-white mb-4">
        GalerÃ­a de <span class="text-orange-600">ImÃ¡genes</span>
      </h1>
      <div class="flex items-center gap-4">
        <div class="gallery-counter">
          <span class="counter-icon">ğŸ“¸</span>
          <span>{{ filteredImages.length }} imagen{{ filteredImages.length !== 1 ? 'es' : '' }}</span>
        </div>
        <a 
          routerLink="/galeria/upload"
          class="px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg transition-colors text-sm"
        >
          ğŸ“¤ Subir Imagen
        </a>
      </div>
    </div>

    <!-- Filtros por carpeta -->
    <div class="gallery-filters mb-12">
      <button 
        (click)="filterByFolder('all')"
        [class.active]="selectedFolder === 'all'"
        class="filter-button"
      >
        Todas
      </button>
      <button 
        *ngFor="let folder of folders"
        (click)="filterByFolder(folder.name)"
        [class.active]="selectedFolder === folder.name"
        class="filter-button"
      >
        {{ folder.displayName }}
      </button>
    </div>

    <!-- Grid de imÃ¡genes -->
    <div class="gallery-grid" *ngIf="filteredImages.length > 0">
      <div 
        *ngFor="let image of filteredImages; let i = index" 
        class="gallery-item"
      >
        <img 
          [src]="getImageUrl(image)"
          [alt]="image.title"
          class="gallery-image"
          loading="lazy"
        />
        
        <div class="gallery-overlay">
          <h3 class="gallery-title">{{ image.title }}</h3>
          <p class="gallery-description">{{ image.description }}</p>
          
          <!-- Badge de carpeta -->
          <div class="mt-2">
            <span class="inline-block px-2 py-1 bg-orange-600/20 text-orange-400 text-xs font-bold rounded">
              ğŸ“ {{ image.folder }}
            </span>
          </div>
          
          <!-- Tags -->
          <div class="gallery-tags" *ngIf="image.tags && image.tags.length > 0">
            <span *ngFor="let tag of image.tags.slice(0, 3)" class="gallery-tag">
              {{ tag }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Estado vacÃ­o -->
    <div *ngIf="filteredImages.length === 0" class="gallery-empty">
      <div class="empty-icon">ğŸ–¼ï¸</div>
      <h3 class="empty-title">No hay imÃ¡genes en esta categorÃ­a</h3>
      <p class="empty-description">Prueba seleccionando otra carpeta o sube nuevas imÃ¡genes</p>
    </div>
  </div>
</section>